{% extends 'store/base.html' %}

{% block title %}Giỏ hàng{% endblock %}

{% block content %}
<section class="page-section">
  <h2 class="mb-3">Giỏ hàng</h2>
  {% if cart.items %}
    <div class="table-responsive">
      <table class="table">
        <thead>
          <tr>
            <th>Sản phẩm</th>
            <th>Số lượng</th>
            <th>Đơn giá</th>
            <th>Tạm tính</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          {% for item in cart.items %}
            <tr>
              <td>{{ item.product.name }}</td>
              <td>{{ item.quantity }}</td>
              <td>{{ item.product.price }} {{ item.product.unit }}</td>
              <td>{{ item.total_price }}</td>
              <td><a class="btn btn-outline-danger btn-sm" href="/cart/remove/{{ item.product.id }}/">Xóa</a></td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
    <div class="form-actions mt-3">
      <div class="card"><div class="card-body"><strong>Tổng cộng:</strong> {{ cart.total_price }}</div></div>
      <a class="btn btn-outline-secondary" href="{% url 'store:product_list' %}">Tiếp tục mua</a>
      <a class="btn btn-primary" href="/checkout/">Thanh toán</a>
    </div>
  {% else %}
    <p>Giỏ hàng trống.</p>
    <a class="btn btn-primary" href="{% url 'store:product_list' %}">Xem sản phẩm</a>
  {% endif %}
</section>
{% endblock %}
