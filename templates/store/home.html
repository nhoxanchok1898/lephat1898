{% extends "store/base.html" %}
{% load static %}
{% block title %}Trang chủ - Paint Store{% endblock %}

{% block content %}
<section class="page-section">
  <div class="d-flex flex-column flex-lg-row align-items-center gap-4">
    <div class="flex-fill">
      <p class="badge badge-secondary mb-2">✨ Bộ sưu tập 2026 • Mới ra mắt</p>
      <h1 class="display-6 fw-bold mb-3">Mang màu sắc đến ngôi nhà của bạn</h1>
      <p class="text-muted mb-4">Chọn từ hơn 1000+ sản phẩm sơn, chống thấm, bột trét. Giao hàng nhanh, tư vấn tận tâm.</p>
      <div class="d-flex gap-3 flex-wrap">
        <a href="{% url 'store:product_list' %}" class="btn btn-primary btn-lg">Khám phá ngay</a>
        <a href="{% url 'store:contact' %}" class="btn btn-outline-secondary btn-lg">Tư vấn miễn phí</a>
      </div>
    </div>
    <div class="flex-fill text-center">
      <img src="{% static 'images/paint-hero.jpg' %}" alt="Sơn" class="img-fluid rounded-4 shadow-sm">
    </div>
  </div>
</section>

<section class="page-section">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h2 class="h5 mb-0">Thương hiệu nổi bật</h2>
    <span class="text-muted">{{ brands|length|default:0 }} thương hiệu</span>
  </div>
  <div class="d-flex flex-wrap gap-2">
    {% for brand in brands %}
      <span class="badge badge-secondary">{{ brand.name }}</span>
    {% empty %}
      <p class="text-muted mb-0">Chưa có thương hiệu.</p>
    {% endfor %}
  </div>
</section>

<section class="page-section">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h2 class="h5 mb-0">Sản phẩm mới</h2>
    <a href="{% url 'store:product_list' %}" class="btn btn-sm btn-outline-secondary">Xem tất cả</a>
  </div>
  <div class="product-grid">
    {% for product in new_products|default:products %}
      <article class="product-card">
        <a href="{% url 'store:product_detail' product.pk %}" class="product-card__thumb">
          {% if product.image %}
            <img src="{{ product.image.url }}" alt="{{ product.name }}">
          {% else %}
            <img src="{% static 'images/product-placeholder.svg' %}" alt="Chưa có ảnh">
          {% endif %}
        </a>
        <div class="product-card__body">
          {% if product.brand %}<div class="product-card__brand">{{ product.brand.name }}</div>{% endif %}
          <h3 class="product-card__title"><a href="{% url 'store:product_detail' product.pk %}">{{ product.name }}</a></h3>
          <div class="product-card__price">
            {% if product.sale_price %}
              <span class="price-current">{{ product.sale_price|floatformat:0 }}₫</span>
              <span class="price-old">{{ product.price|floatformat:0 }}₫</span>
            {% else %}
              <span class="price-current">{{ product.price|floatformat:0 }}₫</span>
            {% endif %}
          </div>
        </div>
        <div class="product-card__actions">
          <a class="btn btn-primary w-100" href="{% url 'store:product_detail' product.pk %}">Xem chi tiết</a>
        </div>
      </article>
    {% empty %}
      <p class="text-muted">Chưa có sản phẩm.</p>
    {% endfor %}
  </div>
</section>
{% endblock %}
